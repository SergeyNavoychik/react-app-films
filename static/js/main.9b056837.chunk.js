(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t(49)},47:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);t(21);var n=t(0),l=t.n(n),r=t(18),i=t.n(r),c=t(2),s=t(3),o=t(5),m=t(4),d=t(6);function u(){return l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("span",{className:"navbar-brand",href:"#"},"Films App"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"})))))}function v(){return l.a.createElement("footer",null,l.a.createElement("p",{className:"text-center"},"\xa9 2018 Copyright"))}var f=t(19),p=t.n(f),b=t(7),E=t.n(b);var h=function(e){var a=e.filmData,t=e.onClickEditFilm;return l.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 item-film-card"},l.a.createElement("div",{className:"item-film-card__content"},l.a.createElement("img",{className:"item-field-card__image",src:a.Poster,alt:"Card"}),l.a.createElement("div",{className:"item-field-card__body"},l.a.createElement("div",null,l.a.createElement("h5",{className:"body__title"},a.Title),l.a.createElement("p",null,a.Year)),l.a.createElement("div",{className:"item-field-card__buttons"},l.a.createElement("button",{className:"item-field-card__btn",onClick:function(){t(a)}},l.a.createElement("i",{className:"fas fa-pen"}))))))},g=t(8),N=t(10),y=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChangeForm=function(e){var a=e.target,n=a.name,l=a.value,r=Object(N.a)({},t.state.errors);r[n]=l?null:"Field is required.",t.setState({errors:r,filmData:Object(N.a)({},t.state.filmData,Object(g.a)({},n,l))})},t.handleSubmitForm=function(e){e.preventDefault();var a=t.state,n=a.filmData,l=a.errors;l.Title||l.Year||t.props.onSave(n)},t.state={filmData:e.filmData,errors:{Title:null,Year:null}},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.filmData,t=a.Title,n=a.Year,r=e.errors,i=this.props.onClose;return l.a.createElement("div",{className:"col-6"},l.a.createElement("form",{onSubmit:this.handleSubmitForm},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",onChange:this.handleChangeForm,value:t,className:E()("form-control",{"is-invalid":r.Title}),name:"Title",id:"title"}),r.Title&&l.a.createElement("div",{className:"invalid-feedback"},r.Title)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"year"},"Year"),l.a.createElement("input",{type:"text",onChange:this.handleChangeForm,value:n,className:E()("form-control",{"is-invalid":r.Year}),name:"Year",id:"year"}),r.Year&&l.a.createElement("div",{className:"invalid-feedback"},r.Year)),l.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginRight:"10px"}},"Save"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:i},"Close")))}}]),a}(n.Component),D=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).getFilmsData=function(){p.a.get("https://www.omdbapi.com/?apikey=".concat("e4a1404c","&s=game")).then(function(e){var a=e.data.Search;t.setState({filmsData:a,isLoading:!1})}).catch(function(e){var a=e.response.data.Error;t.setState({error:a,isLoading:!1})})},t.handleEditFilm=function(e){t.setState({filmDataForEdit:e,viewType:"editList"})},t.handleCloseEdit=function(){t.setState({viewType:"list",filmDataForEdit:null})},t.handleSaveEditResults=function(e){var a=t.state.filmsData.map(function(a){return a.imdbID===e.imdbID?e:a});t.setState({filmsData:a,viewType:"list",filmDataForEdit:null})},t.mapFilmsData=function(e){return l.a.createElement(h,{key:e.imdbID,onClickEditFilm:t.handleEditFilm,filmData:e})},t.state={filmsData:[],viewType:"list",filmDataForEdit:null,isLoading:!0,error:null},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getFilmsData()}},{key:"render",value:function(){var e=this.state,a=e.isLoading,t=e.filmsData,n=e.error,r=e.viewType,i=e.filmDataForEdit;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:E()("row",{"justify-content-center":"editList"===r})},a&&l.a.createElement("div",{className:"fa-2x spinner-absolute-center"},l.a.createElement("i",{className:"fas fa-spinner fa-spin"})),n&&l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},n)),"list"===r&&t.map(this.mapFilmsData),"editList"===r&&l.a.createElement(y,{onClose:this.handleCloseEdit,onSave:this.handleSaveEditResults,filmData:i})))}}]),a}(n.Component),C=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"app-container"},l.a.createElement(u,null),l.a.createElement("main",null,l.a.createElement(D,null)),l.a.createElement(v,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(47);i.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.9b056837.chunk.js.map